/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[130,33,83,85,87],{470:function(e,t,r){e.exports=function(){"use strict";var g="undefined"!=typeof document&&document.documentMode,e={rootMargin:"0px",threshold:0,load:function(e){if("picture"===e.nodeName.toLowerCase()){var t=e.querySelector("img"),r=!1;null===t&&(t=document.createElement("img"),r=!0),g&&e.getAttribute("data-iesrc")&&(t.src=e.getAttribute("data-iesrc")),e.getAttribute("data-alt")&&(t.alt=e.getAttribute("data-alt")),r&&e.append(t)}if("video"===e.nodeName.toLowerCase()&&!e.getAttribute("data-src")&&e.children){for(var a=e.children,n=void 0,i=0;i<=a.length-1;i++)(n=a[i].getAttribute("data-src"))&&(a[i].src=n);e.load()}e.getAttribute("data-poster")&&(e.poster=e.getAttribute("data-poster")),e.getAttribute("data-src")&&(e.src=e.getAttribute("data-src")),e.getAttribute("data-srcset")&&e.setAttribute("srcset",e.getAttribute("data-srcset"));var o=",";if(e.getAttribute("data-background-delimiter")&&(o=e.getAttribute("data-background-delimiter")),e.getAttribute("data-background-image"))e.style.backgroundImage="url('"+e.getAttribute("data-background-image").split(o).join("'),url('")+"')";else if(e.getAttribute("data-background-image-set")){var l=e.getAttribute("data-background-image-set").split(o),u=l[0].substr(0,l[0].indexOf(" "))||l[0];u=-1===u.indexOf("url(")?"url("+u+")":u,1===l.length?e.style.backgroundImage=u:e.setAttribute("style",(e.getAttribute("style")||"")+"background-image: "+u+"; background-image: -webkit-image-set("+l+"); background-image: image-set("+l+")")}e.getAttribute("data-toggle-class")&&e.classList.toggle(e.getAttribute("data-toggle-class"))},loaded:function(){}};function t(e){e.setAttribute("data-loaded",!0)}var r=function(e){return"true"===e.getAttribute("data-loaded")},n=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:document;return e instanceof Element?[e]:e instanceof NodeList?e:t.querySelectorAll(e)};return function(){var o,a,l=0<arguments.length&&void 0!==arguments[0]?arguments[0]:".lozad",c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},d=Object.assign({},e,c),i=d.root,m=d.rootMargin,v=d.threshold,u=d.load,g=d.loaded,s=void 0;"undefined"!=typeof window&&window.IntersectionObserver&&(s=new IntersectionObserver((o=u,a=g,function(e,n){e.forEach((function(e){(0<e.intersectionRatio||e.isIntersecting)&&(n.unobserve(e.target),r(e.target)||(o(e.target),t(e.target),a(e.target)))}))}),{root:i,rootMargin:m,threshold:v}));for(var f,h=n(l,i),b=0;b<h.length;b++)(f=h[b]).getAttribute("data-placeholder-background")&&(f.style.background=f.getAttribute("data-placeholder-background"));return{observe:function(){for(var e=n(l,i),o=0;o<e.length;o++)r(e[o])||(s?s.observe(e[o]):(u(e[o]),t(e[o]),g(e[o])))},triggerLoad:function(e){r(e)||(u(e),t(e),g(e))},observer:s}}}()},478:function(e,t){function r(e,t,r){var n,o,l,c,d;function m(){var v=Date.now()-c;v<t&&v>=0?n=setTimeout(m,t-v):(n=null,r||(d=e.apply(l,o),l=o=null))}null==t&&(t=100);var v=function(){l=this,o=arguments,c=Date.now();var v=r&&!n;return n||(n=setTimeout(m,t)),v&&(d=e.apply(l,o),l=o=null),d};return v.clear=function(){n&&(clearTimeout(n),n=null)},v.flush=function(){n&&(d=e.apply(l,o),l=o=null,clearTimeout(n),n=null)},v}r.debounce=r,e.exports=r},497:function(e,t,r){var content=r(654);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(63).default)("3145ed91",content,!0,{sourceMap:!1})},500:function(e,t,r){"use strict";r.r(t);var n=r(1),o=r(4),l=(r(22),r(18),r(21),r(199),r(23),r(24),r(16),r(7),r(13),r(67)),c=r(478),d=r(49),m=r(10);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var f={name:"TagSearch",data:function(){return{setApi:"setTags",searchedString:"",tagList:null,loading:!1,autoSuggestionOpen:!1,deleteWarning:!1}},props:{tags:{type:String,default:""}},directives:{outsideClick:l.a},components:{Spinner:d.default},watch:{searchedString:Object(c.debounce)((function(){this.fetchingData()}),700)},computed:{tagExists:function(){var e=this;return this.tagList.findIndex((function(t){return t.title===e.searchedString}))>-1},selectedTags:function(){return this.tags?this.tags.split(",").filter((function(e){return e})):[]}},methods:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){Object(o.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({deleteKeyPress:function(){this.searchedString||(this.deleteWarning&&this.deleteTag(this.selectedTags[this.selectedTags.length-1]),this.deleteWarning=!this.deleteWarning)},deleteTag:function(e){this.$emit("delete",e)},openResult:function(){this.autoSuggestionOpen=!this.autoSuggestionOpen,this.fetchingData()},saveTag:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,e.setRequest({params:{title:e.searchedString},api:"setTags"});case 4:t.next=9;break;case 6:return t.prev=6,t.t0=t.catch(1),t.abrupt("return",e.$nuxt.error(t.t0));case 9:e.loading=!1;case 10:case"end":return t.stop()}}),t,null,[[1,6]])})))()},fetchingData:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,e.getRequest({params:{q:e.searchedString},api:"getTags"});case 4:r=t.sent,(data=r.data)&&(e.tagList=data),t.next=12;break;case 9:return t.prev=9,t.t0=t.catch(1),t.abrupt("return",e.$nuxt.error(t.t0));case 12:e.loading=!1;case 13:case"end":return t.stop()}}),t,null,[[1,9]])})))()},autoSuggestionClose:function(){this.autoSuggestionOpen=this.deleteWarning=!1,this.searchedString=""},emitAddingTag:function(e){-1===this.selectedTags.findIndex((function(t){return t===e}))&&this.$emit("add",e)},clickedItem:function(data){data||(this.saveTag(),data=this.searchedString),this.emitAddingTag(data),this.autoSuggestionClose(),this.$refs.tagSearchInput.focus()}},Object(m.b)("common",["setRequest","getRequest"]))},h=f,_=r(15),component=Object(_.a)(h,(function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"outside-click",rawName:"v-outside-click",value:e.autoSuggestionClose,expression:"autoSuggestionClose"}],staticClass:"tag-wrapper"},[t("ul",{staticClass:"tags"},[e._l(e.selectedTags,(function(r,n){return t("li",{key:n,class:{warning:e.deleteWarning&&n===e.selectedTags.length-1}},[t("span",{staticClass:"tag"},[e._v("\n        "+e._s(r)+"\n        "),t("span",{staticClass:"close-btn",on:{click:function(t){return e.deleteTag(r)}}},[t("i",{staticClass:"icon close-icon"})])])])})),e._v(" "),t("li",{staticClass:"tag-input"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.searchedString,expression:"searchedString"}],ref:"tagSearchInput",attrs:{type:"text",placeholder:"Write here"},domProps:{value:e.searchedString},on:{focus:e.openResult,keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.clickedItem({title:e.searchedString}))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"delete",[8,46],t.key,["Backspace","Delete","Del"])?null:e.deleteKeyPress()}],input:function(t){t.target.composing||(e.searchedString=t.target.value)}}})])],2),e._v(" "),e.autoSuggestionOpen?t("div",{staticClass:"tag-dropdown"},[e.loading?t("div",{staticClass:"spinner-wrapper"},[t("spinner",{attrs:{radius:40,color:"primary"}})],1):e.tagList?t("ul",[e._l(e.tagList,(function(r,n){return t("li",{key:n},[t("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.clickedItem(r.title)}}},[e._v("\n          "+e._s(r.title)+"\n        ")])])})),e._v(" "),e.searchedString&&!e.tagExists?t("li",[t("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.clickedItem(null)}}},[e._v("\n          "+e._s(e.searchedString)+" ("+e._s(e.$t("error.new"))+")\n        ")])]):e._e()],2):e.searchedString?e._e():t("p",[e._v("\n      "+e._s(e.$t("index.nf"))+"\n    ")])]):e._e()])}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{Spinner:r(49).default})},644:function(e,t,r){"use strict";r.r(t);r(18),r(51),r(198);var n=r(704),o=r(86),l=r(296),c=r.n(l),d={name:"WYSIWYGEditor",data:function(){return{acceptedTags:["iframe"],productDescription:"",editAsHtml:!1,fullScreen:!1,focused:!1}},props:{title:{type:String,default:function(){return this.$t("prod.desc")}},type:{type:Number,required:!1},description:{type:String,default:""}},mixins:[o.a],components:{VueEditor:n.a},watch:{description:function(e){this.productDescription=c.a.sanitize(e,{ADD_TAGS:this.acceptedTags})}},computed:{},methods:{descriptionChange:function(){this.$emit("change",c.a.sanitize(this.productDescription,{ADD_TAGS:this.acceptedTags}))},fullScreenToggle:function(){this.fullScreen=!this.fullScreen},handleImageRemoved:function(e,t,r,n){this.handleDescriptionImage(!0,e,t,r,n)},handleImageAdded:function(e,t,r,n){this.handleDescriptionImage(!1,e,t,r,n)},handleDescriptionImage:function(e,t,r,n,o){this.$emit("file",{deleted:e,file:t,Editor:r,cursorLocation:n,resetUploader:o})}},beforeCreate:function(){},destroyed:function(){},created:function(){},mounted:function(){this.productDescription=c.a.sanitize(this.description)}},m=(r(653),r(15)),component=Object(m.a)(d,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"wysiwyg-wrapper",class:[{"full-screen":e.fullScreen},{focused:e.focused}]},[t("div",{staticClass:"dply-felx mb-15"},[t("label",{staticClass:"mb-0"},[e._v(e._s(e.title))]),e._v(" "),t("div",{staticClass:"custom-toolbar"},[t("button",{staticClass:"outline-btn",on:{click:function(t){t.preventDefault(),e.editAsHtml=!e.editAsHtml}}},[e._v("\n        "+e._s(e.$t("error.ea",{type:e.editAsHtml?e.$t("profile.wysi"):e.$t("profile.html")}))+"\n      ")]),e._v(" "),t("button",{staticClass:"outline-btn",on:{click:function(t){return t.preventDefault(),e.fullScreenToggle.apply(null,arguments)}}},[e._v("\n        "+e._s(e.$t("error.scrn",{type:e.fullScreen?e.$t("error.nrm"):e.$t("error.full")}))+"\n      ")]),e._v(" "),e.fullScreen?t("button",{staticClass:"ml-10 close-btn",on:{click:function(t){return t.preventDefault(),e.fullScreenToggle.apply(null,arguments)}}},[t("i",{staticClass:"icon close-icon"})]):e._e()])]),e._v(" "),e.editAsHtml?t("p",{staticClass:"info-msg mb-20 mb-sm-15"},[e._v("\n    "+e._s(e.$t("error.st"))+": h1, h2...h6, p, strong, em, u, s, blockquote, pre, ul, li, ol, br, a, img, video.\n    "+e._s(e.$t("error.mkSr"))+"\n  ")]):e._e(),e._v(" "),e.editAsHtml?t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.productDescription,expression:"productDescription"}],domProps:{value:e.productDescription},on:{change:e.descriptionChange,input:function(t){t.target.composing||(e.productDescription=t.target.value)}}}):t("vue-editor",{attrs:{useCustomImageHandler:""},on:{focus:function(t){e.focused=!0},blur:function(t){e.focused=!1},"text-change":e.descriptionChange,"image-added":e.handleImageAdded,"image-removed":e.handleImageRemoved},model:{value:e.productDescription,callback:function(t){e.productDescription=t},expression:"productDescription"}})],1)}),[],!1,null,null,null);t.default=component.exports},653:function(e,t,r){"use strict";r(497)},654:function(e,t,r){var n=r(62)((function(i){return i[1]}));n.push([e.i,".ql-snow .ql-editor img{width:auto}.custom-toolbar{align-items:center;display:flex;gap:15px}.ql-editor{max-height:400px}.ql-editor li{display:block;line-height:1.9}.focused .ql-container{border-color:#444!important}.focused .ql-toolbar.ql-snow{border-color:#444!important;border-bottom:1px solid #ccc}.ql-toolbar.ql-snow+.ql-container.ql-snow{border-radius:0 0 5px 5px}.ql-toolbar.ql-snow{border-radius:5px 5px 0 0}.has-error .whysigwyg-error .ql-container,.has-error .whysigwyg-error .ql-toolbar.ql-snow{border-color:red!important}.full-screen{background:#fff;bottom:0;display:flex;flex-direction:column;left:0;padding:30px;position:fixed;right:0;top:0;z-index:10}.full-screen .ql-editor{max-height:4000px}.full-screen .quillWrapper{display:flex;flex-direction:column;flex-grow:1}.full-screen .quillWrapper .ql-container,.full-screen textarea{flex-grow:1}@media only screen and (max-width:768px){.wysiwyg-wrapper .dply-felx{display:block;margin:10px 0}.wysiwyg-wrapper .dply-felx .custom-toolbar button{margin-top:10px}}",""]),n.locals={},e.exports=n},712:function(e,t,r){"use strict";r.r(t);r(37),r(44),r(18),r(21),r(23),r(24),r(16),r(7),r(13);var n=r(1),o=r(4),l=(r(50),r(22),r(10)),c=r(86),d=r(469),m=r(67),v=r(158),f=r(468);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){Object(o.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var y={name:"ProductImage",data:function(){return{hasError:!1,attributes:[],imageData:"",formSubmitting:!1,uploading:!1,showAttributes:!1,deleting:!1,errors:null}},props:{productImage:{type:Object,default:function(){return{id:"",image:""}}}},directives:{outsideClick:m.a},mixins:[c.a],components:{ErrorFormatter:f.default,AjaxButton:v.default,LazyImage:d.default},computed:_({},Object(l.c)("common",["allAttributeValues"])),methods:_({closeAttrDrop:function(){this.showAttributes=!1},updateAttributes:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.hasError=!1,t.prev=1,e.formSubmitting=!0,t.next=5,e.setRequest({params:{product_image_id:e.productImage.id,product_id:null===(r=e.$route)||void 0===r||null===(r=r.params)||void 0===r?void 0:r.id,values:e.attributes},api:"setProductImageAttributes"});case 5:t.sent||(e.hasError=!0),e.formSubmitting=!1,t.next=13;break;case 10:return t.prev=10,t.t0=t.catch(1),t.abrupt("return",e.$nuxt.error(t.t0));case 13:case"end":return t.stop()}}),t,null,[[1,10]])})))()},imageDelete:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var data;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!confirm(t.$t("admin.dltMsg"))){r.next=13;break}return r.prev=1,t.deleting=!0,r.next=5,t.deleteData({params:e,api:"deleteProductImage"});case 5:(data=r.sent)&&t.$emit("image-deleted",data),t.deleting=!1,r.next=13;break;case 10:return r.prev=10,r.t0=r.catch(1),r.abrupt("return",t.$nuxt.error(r.t0));case 13:case"end":return r.stop()}}),r,null,[[1,10]])})))()}},Object(l.b)("common",["deleteData","setRequest"])),mounted:function(){var e;this.attributes=(null===(e=this.productImage)||void 0===e?void 0:e.attributes.map((function(i){return i.attribute_value_id})))||[]}},w=r(15),component=Object(w.a)(y,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"w-100"},[e.hasError?t("error-formatter",{attrs:{type:"images_attribute"}}):e._e(),e._v(" "),t("div",{staticClass:"img-wrapper"},[t("lazy-image",{attrs:{"data-src":e.getThumbImageURL(e.productImage.image)}}),e._v(" "),e.$can("product","edit")||e.$can("product","create")?t("button",{on:{click:function(t){return t.preventDefault(),e.imageDelete(e.productImage.id)}}},[e._v("✖\n    ")]):e._e()],1),e._v(" "),t("div",{staticClass:"input-wrapper img-attr-wrap mt-15 dply-felx gap-10"},[t("div",{staticClass:"custom-dropdown cp",attrs:{"data-ignore":"image-attr-".concat(e.productImage.id)},on:{click:function(t){t.preventDefault(),e.showAttributes=!e.showAttributes}}},[t("span",{staticClass:"ignore-click"},[e._v(e._s(e.$t("list.attr"))+" ("+e._s(e.attributes.length)+")\n        "),t("i",{staticClass:"icon black ignore-click",class:[{"arrow-up":e.showAttributes},{"arrow-down":!e.showAttributes}]})])]),e._v(" "),e.showAttributes?t("ul",{directives:[{name:"outside-click",rawName:"v-outside-click",value:e.closeAttrDrop,expression:"closeAttrDrop"}],staticClass:"multiple-wrap to-bottom",attrs:{id:"image-attr-".concat(e.productImage.id)}},e._l(e.allAttributeValues,(function(r,n){return t("label",{key:n,attrs:{"label-for":"product-img-".concat(r.id)}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.attributes,expression:"attributes"}],attrs:{id:"product-img-".concat(r.id),type:"checkbox"},domProps:{value:r.id,checked:Array.isArray(e.attributes)?e._i(e.attributes,r.id)>-1:e.attributes},on:{change:function(t){var n=e.attributes,o=t.target,l=!!o.checked;if(Array.isArray(n)){var c=r.id,d=e._i(n,c);o.checked?d<0&&(e.attributes=n.concat([c])):d>-1&&(e.attributes=n.slice(0,d).concat(n.slice(d+1)))}else e.attributes=l}}}),e._v("\n        "+e._s(r.title)+"\n      ")])})),0):e._e(),e._v(" "),t("ajax-button",{staticClass:"primary-btn",attrs:{type:"button",name:"save",text:e.$t("setting.sv"),"loading-text":"","fetching-data":e.formSubmitting},on:{clicked:e.updateAttributes}})],1)],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{ErrorFormatter:r(468).default,LazyImage:r(469).default,AjaxButton:r(158).default})},726:function(e,t,r){"use strict";r.r(t);r(741),r(7),r(28),r(36),r(106),r(746),r(750),r(751),r(752),r(753),r(754),r(755),r(756),r(757),r(758),r(759),r(760),r(761),r(762),r(763),r(765),r(766),r(767),r(768),r(769),r(770),r(771),r(772),r(773),r(34),r(295),r(127);var n=r(158),o=r(86),l=r(471),c={name:"VideoUpload",data:function(){return{scaleFactor:"",uploadMessage:null}},mixins:[o.a,l.a],components:{AjaxButton:n.default},props:{type:{type:String,default:"image"},fileUploading:{type:Boolean,default:!1},video:{type:String,default:""},image:{type:String,default:""},imageTitle:{type:String,default:""},btnText:{type:String,default:"Upload"}},computed:{isImage:function(){return"image"===this.type},errors:function(){return this.ERRORS&&this.ERRORS[this.type]},videoName:function(){return this.video||""},imageName:function(){var e;return null!==(e=this.image)&&void 0!==e?e:this.defaultImage}},methods:{dataURLtoFile:function(e,t){for(var r=e.split(","),n=r[0].match(/:(.*?);/)[1],o=atob(r[1]),l=o.length,c=new Uint8Array(l);l--;)c[l]=o.charCodeAt(l);return new File([c],t,{type:n})},capture:function(e){var video=document.getElementById("video");document.getElementById("source").src=URL.createObjectURL(e),video.load();var t=!1,r=this;video.addEventListener("loadeddata",(function(){if(t)return!1;t=!0;var n=this.videoWidth,o=this.videoHeight,canvas=document.createElement("canvas");canvas.width=n,canvas.height=o,canvas.getContext("2d").drawImage(this,0,0,n,o);var l=canvas.toDataURL("image/jpeg"),c={canvas:canvas,file:r.dataURLtoFile(l,"".concat(+new Date,".jpg")),base64:l};r.$emit("file-upload",{video:e,thumb:c.file})}))},fileChanged:function(e){var t=e.target.files[0];t&&(this.uploadMessage=this.isValidImage(t,this.maxVideoSize,!1),this.uploadMessage||this.capture(t))}}},d=r(15),component=Object(d.a)(c,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"file-wrapper",class:{"has-error":e.uploadMessage}},[t("div",{staticClass:"file-input",class:{"pt-0":!e.isImage}},[t("input",{ref:"fileInput",attrs:{type:"file",accept:"video/*"},on:{change:e.fileChanged}}),e._v(" "),e.isImage?t("img",{attrs:{src:e.getImageURL(e.imageName),alt:e.imageTitle}}):t("div",[e.videoName?t("video",{attrs:{controls:"",autostart:"0"}},[t("source",{attrs:{src:e.getVideoURL(e.videoName),type:"video/mp4"}})]):t("div",[e._v("\n        "+e._s(e.$t("prod.noVid"))+"\n      ")])]),e._v(" "),e._m(0)]),e._v(" "),e.uploadMessage?t("span",{staticClass:"error mb-10"},[e._v("\n    "+e._s(e.uploadMessage)+"\n  ")]):e._e(),e._v(" "),t("ajax-button",{staticClass:"outline-btn",attrs:{type:"button",text:e.btnText,color:"primary","loading-text":e.$t("error.up"),"fetching-data":e.fileUploading},on:{clicked:function(t){return e.$refs.fileInput.click()}}})],1)}),[function(){var e=this._self._c;return e("video",{staticStyle:{height:"0",width:"0",opacity:"0"},attrs:{id:"video",controls:"",autoplay:""}},[e("source",{attrs:{id:"source",type:"video/mp4"}})])}],!1,null,null,null);t.default=component.exports;installComponents(component,{AjaxButton:r(158).default})},727:function(e,t,r){"use strict";r.r(t);r(125);var n=r(158),o={name:"VideoInput",data:function(){return{videoThumbData:null,videoData:null}},mixins:[r(86).a],components:{AjaxButton:n.default},props:{saving:{type:Boolean,default:!1},videoThumb:{type:String,default:""},video:{type:String,default:""}},watch:{videoThumb:function(e){this.videoThumbData=e},video:function(e){this.$refs.videoRef.src=e,this.$refs.videoRef.play(),this.videoData=e}},computed:{thumbImageName:function(){var e;return null!==(e=this.videoThumbData)&&void 0!==e&&e.trim()?this.videoThumb:this.defaultImage}},methods:{},mounted:function(){this.videoData=this.video,this.videoThumbData=this.videoThumb}},l=r(15),component=Object(l.a)(o,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"image-url-wrap file-wrapper"},[t("h5",[e._v(e._s(e.$t("error.vti")))]),e._v(" "),t("div",{staticClass:"file-input"},[t("img",{attrs:{src:e.thumbImageName}})]),e._v(" "),t("h5",[e._v(e._s(e.$t("error.vid")))]),e._v(" "),t("div",{staticClass:"file-input"},[t("video",{ref:"videoRef",attrs:{src:"",id:"video-container",width:"100%",controls:""}})]),e._v(" "),t("div",{staticClass:"input-wrapper"},[t("label",[e._v(e._s(e.$t("error.vtn")))]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.videoThumbData,expression:"videoThumbData"}],attrs:{type:"text",placeholder:e.$t("error.vtn")},domProps:{value:e.videoThumbData},on:{input:function(t){t.target.composing||(e.videoThumbData=t.target.value)}}})]),e._v(" "),t("div",{staticClass:"input-wrapper"},[t("label",[e._v(e._s(e.$t("error.vn")))]),e._v(" "),t("div",{staticClass:"image-input"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.videoData,expression:"videoData"}],attrs:{type:"text",placeholder:e.$t("error.vn")},domProps:{value:e.videoData},on:{input:function(t){t.target.composing||(e.videoData=t.target.value)}}}),e._v(" "),t("ajax-button",{staticClass:"primary-btn",attrs:{type:"button",text:e.$t("setting.sv"),"loading-text":"","fetching-data":e.saving},on:{clicked:function(t){return e.$emit("image-change",{video:e.videoData,thumb:e.videoThumbData})}}})],1)])])}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{AjaxButton:r(158).default})},804:function(e,t,r){"use strict";r.r(t);r(18),r(21),r(23),r(24),r(16);var n=r(1),o=r(4),l=(r(22),r(7),r(486),r(13),r(49)),c=r(10),d=r(158),m=r(86),v=r(471),f=r(468),h=r(469),_=r(491),y=r(712);function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){Object(o.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var C={name:"ProductImages",data:function(){return{imageData:"",uploading:!1,deleting:!1,errors:null}},props:{productImages:{type:Array,default:function(){return[]}}},mixins:[m.a,v.a],components:{ProductImage:y.default,ImageInput:_.default,LazyImage:h.default,AjaxButton:d.default,ErrorFormatter:f.default,Spinner:l.default},computed:x({id:function(){return this.$route.params.id}},Object(c.c)(["mediaStorage"])),methods:x(x({imageDeleted:function(data){this.$emit("result",data)},uploadProductImages:function(e){var t=arguments,r=this;return Object(n.a)(regeneratorRuntime.mark((function n(){var o,l,c,d,data;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=t.length>1&&void 0!==t[1]?t[1]:null,l={},e?(c=e.target.files,(d=new FormData).append("id",r.id),d.append("product_id",r.id),Object.values(c).forEach((function(e){d.append("images[]",e),r.errors=r.isValidImage(e),r.errors})),r.setErrors({multiple_image:[r.errors]}),l=d):(l.photo=o,l.product_id=r.id,l.id=r.id),r.errors){n.next=19;break}return n.prev=4,r.uploading=!0,n.next=8,r.setImageById({id:r.id,params:l,api:"setProductImages"});case 8:if(!(data=n.sent)){n.next=13;break}return n.next=12,r.$emit("result",data);case 12:r.imageData="";case 13:r.uploading=!1,n.next=19;break;case 16:return n.prev=16,n.t0=n.catch(4),n.abrupt("return",r.$nuxt.error(n.t0));case 19:case"end":return n.stop()}}),n,null,[[4,16]])})))()}},Object(c.b)("common",["setImageById"])),Object(c.b)("ui",["setErrors"]))},k=C,$=r(15),component=Object($.a)(k,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"p-20 p-sm-15 pos-rel"},[e.deleting?t("div",{staticClass:"spinner-wrapper"},[t("spinner",{staticClass:"mr-15",attrs:{radius:60,color:"primary"}})],1):e._e(),e._v(" "),t("input",{ref:"filesInput",staticClass:"d-none",attrs:{type:"file",accept:"image/*",multiple:""},on:{change:e.uploadProductImages}}),e._v(" "),t("error-formatter",{attrs:{type:"multiple_image"}}),e._v(" "),t("div",{staticClass:"product-images dply-felx mb-15 gap-15"},[e.productImages.length?e._e():t("p",{staticClass:"mlr-5"},[e._v("\n      "+e._s(e.$t("list.noData",{data:e.$t("admin.img")}))+"\n    ")]),e._v(" "),e._l(e.productImages,(function(r,n){return t("product-image",{key:n,attrs:{"product-image":r},on:{"image-deleted":e.imageDeleted}})}))],2),e._v(" "),e.$can("product","edit")||e.$can("product","create")?t("div",[e.mediaStorageData.URL===e.mediaStorage?t("div",{staticClass:"input-wrapper"},[t("label",{staticClass:"mb-10"},[e._v("\n\n        "+e._s(e.$t("list.addImg"))+"\n      ")]),e._v(" "),t("div",{staticClass:"image-input"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.imageData,expression:"imageData"}],staticClass:"mb-10",attrs:{type:"text",placeholder:"Image name"},domProps:{value:e.imageData},on:{input:function(t){t.target.composing||(e.imageData=t.target.value)}}}),e._v(" "),t("ajax-button",{staticClass:"primary-btn",attrs:{type:"button",text:e.$t("setting.sv"),"loading-text":"","fetching-data":e.uploading},on:{clicked:function(t){return e.uploadProductImages(null,e.imageData)}}})],1)]):t("ajax-button",{staticClass:"outline-btn w-100 centered",attrs:{type:"button",color:"primary",text:"Upload Images","loading-text":"Uploading","fetching-data":e.uploading},on:{clicked:function(t){return e.$refs.filesInput.click()}}})],1):e._e()],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{Spinner:r(49).default,ErrorFormatter:r(468).default,AjaxButton:r(158).default})},945:function(e,t,r){"use strict";r.r(t);r(18),r(51),r(37),r(44),r(23),r(24);var n=r(111),o=r(1),l=r(4),c=(r(22),r(21),r(199),r(45),r(50),r(32),r(16),r(7),r(28),r(38),r(656),r(52),r(36),r(64),r(657),r(658),r(659),r(660),r(661),r(662),r(663),r(664),r(665),r(666),r(667),r(668),r(669),r(670),r(671),r(672),r(13),r(34),r(10)),d=r(468),m=r(644),v=r(804),f=r(477),h=r(726),_=r(500),y=r(158),w=r(724),x=r(480),C=r(159),k=r(49),$=r(86),O=r(491),S=r(727),D=r(67),j=r(478);function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){Object(l.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var P={name:"product",middleware:["common-middleware","auth"],data:function(){return{licence:null,categorySearch:"",productFormOpen:!0,showCategories:!1,validLicence:!1,routeName:"products",getApi:"getProduct",setApi:"setProduct",setImageApi:"setProductImage",setVideoApi:"setProductVideo",fileKeys:["id","tax_rule_id","shipping_rule_id"],validationKeys:["title","slug","unit","meta_title","meta_description","description","overview","selling","purchased"],result:{id:"",title:"",tags:",",overview:"",description:"",status:"2",brand_id:"",primary_category_id:"",category_id:"",bundle_deal_id:"",unit:"",badge:"",subcategory_id:"",tax_rule_id:"",shipping_rule_id:"",purchased:"",selling:"",offered:"",refundable:1,warranty:1,meta_description:"",meta_keywords:"",flash_sale_product:"",meta_title:"",image:"",slug:"",video:"",product_images:[],product_collections:[],product_categories:[]},hasError:!1,loading:!1,formSubmitting:!1,redirect:!1,fileUploading:!1,videoUploading:!1,searchedCategories:{}}},directives:{outsideClick:D.a},mixins:[$.a],components:{VideoInput:S.default,ImageInput:O.default,DataPage:x.default,Dropdown:C.default,WYSIWYGEditor:m.default,ProductImages:v.default,FileUpload:f.default,VideoUpload:h.default,TagSearch:_.default,AjaxButton:y.default,ProductInventory:w.default,ErrorFormatter:d.default,Spinner:k.default},computed:A(A(A(A(A({productCategories:function(){return this.result.product_categories},selectedCategories:function(){var e=this,t=null;return this.allCategories&&this.productCategories.length&&Object.keys(this.allCategories).forEach((function(i){e.productCategories.includes(i)&&(t=A(A({},t),Object(l.a)({},i,e.allCategories[i])))})),t},currencyPosition:function(){var e;return null===(e=this.setting)||void 0===e?void 0:e.currency_position},currentPrice:function(){return this.result.offered>0?this.result.offered:this.result.selling>0?this.result.selling:0},id:function(){var e;return this.isAdding?"":null===(e=this.$route)||void 0===e||null===(e=e.params)||void 0===e?void 0:e.id},isAdding:function(){var e;return isNaN(null===(e=this.$route)||void 0===e||null===(e=e.params)||void 0===e?void 0:e.id)},currencyIcon:function(){var e;return(null===(e=this.setting)||void 0===e?void 0:e.currency_icon)||"$"}},Object(c.c)(["mediaStorage"])),Object(c.c)("admin",["publicKey"])),Object(c.c)("language",["currentLanguage"])),Object(c.c)("setting",["setting"])),Object(c.c)("common",["allCategories","allTaxRules","allAttributes","allBrands","allProductCollections","allBundleDeals","allShippingRules"])),methods:A({doCategorySearch:Object(j.debounce)((function(){this.searchOnCategory()}),500),searchOnCategory:function(){var e,t=this;this.searchedCategories={},Object.keys(this.allCategories).filter((function(element){return t.allCategories[element].title.toLowerCase().includes(t.categorySearch.toLowerCase())})).forEach((function(i){t.searchedCategories[i]=t.allCategories[i]})),null!==(e=Object.keys(this.searchedCategories))&&void 0!==e&&e.length||this.categorySearch||(this.searchedCategories=this.allCategories)},closeDrop:function(){this.showCategories=!1},productImages:function(e){var t=this;this.result.product_images=[],this.$nextTick((function(){t.result.product_images=e}))},imageInputChanged:function(e){this.uploadFile(null,e)},addTag:function(e){this.result.tags||(this.result.tags=","),this.result.tags="".concat(this.result.tags).concat(e,",")},deleteTag:function(e){this.result.tags=this.result.tags.replace("".concat(e,","),"")},dropdownSelected:function(data){this.result.status=data.key},primaryCategorySelected:function(data){this.result.primary_category_id=data.key},categorySelected:function(data){this.result.category_id=data.key,this.selectedSubCategories?this.result.subcategory_id=Object.keys(this.selectedSubCategories)[0]:this.result.subcategory_id=""},taxRuleSelected:function(data){this.result.tax_rule_id=data.key},shippingRuleSelected:function(data){this.result.shipping_rule_id=data.key},brandSelected:function(data){this.result.brand_id=data.key},bundleDealSelected:function(data){this.result.bundle_deal_id=data.key},redirectingEnable:function(e){this.redirect="save"===e},checkForm:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var data,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.validationKeys.findIndex((function(i){return!e.result[i]}))>-1)){t.next=3;break}return e.hasError=!0,t.abrupt("return",!1);case 3:return e.redirectingEnable(event.submitter.name),e.formSubmitting=!0,t.prev=5,delete e.result.created_at,delete e.result.updated_at,t.next=10,e.setById({id:e.id,params:e.result,api:e.setApi});case 10:(data=t.sent)?(e.result=Object.assign({},data),e.result.product_collections=Object(n.a)(new Set(null===(r=e.result)||void 0===r||null===(r=r.product_collections)||void 0===r?void 0:r.map((function(e){return e.product_collection_id})))),e.result.product_categories=Object(n.a)(new Set(null===(o=e.result)||void 0===o||null===(o=o.product_categories)||void 0===o?void 0:o.map((function(e){return e.category_id.toString()})))),e.$router.push({path:"/".concat(e.routeName).concat(e.redirect?"":"/"+e.result.id)})):e.scrollToTop(),t.next=17;break;case 14:return t.prev=14,t.t0=t.catch(5),t.abrupt("return",e.$nuxt.error(t.t0));case 17:e.formSubmitting=!1;case 18:case"end":return t.stop()}}),t,null,[[5,14]])})))()},scrollToTop:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"productForm";this.$refs[e].scrollIntoView({behavior:"smooth"})},fetchingData:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,t.t0=Object,t.t1={},t.next=6,e.getById({id:e.id,params:{},api:e.getApi});case 6:t.t2=t.sent,e.result=t.t0.assign.call(t.t0,t.t1,t.t2),e.result.product_collections=Object(n.a)(new Set(null===(r=e.result)||void 0===r||null===(r=r.product_collections)||void 0===r?void 0:r.map((function(e){return e.product_collection_id})))),e.result.product_categories=Object(n.a)(new Set(null===(o=e.result)||void 0===o||null===(o=o.product_categories)||void 0===o?void 0:o.map((function(e){return e.category_id.toString()})))),e.loading=!1,t.next=16;break;case 13:return t.prev=13,t.t3=t.catch(0),t.abrupt("return",e.$nuxt.error(t.t3));case 16:case"end":return t.stop()}}),t,null,[[0,13]])})))()},uploadVideo:function(e){var t=arguments,r=this;return Object(o.a)(regeneratorRuntime.mark((function o(){var video,l,c,data,d,m;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return video=t.length>1&&void 0!==t[1]?t[1]:null,r.videoUploading=!0,o.prev=2,l={},e?(c=new FormData,r.fileKeys.forEach((function(i){c.append(i,r.result[i])})),c.append("video_file",e.video),c.append("thumb",e.thumb),l=c):(r.fileKeys.forEach((function(i){l[i]=r.result[i]})),l.video_file=video.video,l.thumb=video.thumb),o.next=7,r.setImageById({id:r.id,params:l,api:r.setVideoApi});case 7:if(!(data=o.sent)){o.next=14;break}return r.result=Object.assign({},data),r.result.product_collections=Object(n.a)(new Set(null===(d=r.result)||void 0===d||null===(d=d.product_collections)||void 0===d?void 0:d.map((function(e){return e.product_collection_id})))),r.result.product_categories=Object(n.a)(new Set(null===(m=r.result)||void 0===m||null===(m=m.product_categories)||void 0===m?void 0:m.map((function(e){return e.category_id.toString()})))),o.next=14,r.$router.push({path:"/".concat(r.routeName,"/").concat(r.result.id)});case 14:o.next=19;break;case 16:return o.prev=16,o.t0=o.catch(2),o.abrupt("return",r.$nuxt.error(o.t0));case 19:r.videoUploading=!1;case 20:case"end":return o.stop()}}),o,null,[[2,16]])})))()},uploadFile:function(e){var t=arguments,r=this;return Object(o.a)(regeneratorRuntime.mark((function o(){var l,c,d,data,m,v;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return l=t.length>1&&void 0!==t[1]?t[1]:null,r.fileUploading=!0,o.prev=2,c={},e?(d=new FormData,r.fileKeys.forEach((function(i){d.append(i,r.result[i])})),d.append("photo",e),c=d):(r.fileKeys.forEach((function(i){c[i]=r.result[i]})),c.photo=l),o.next=7,r.setImageById({id:r.id,params:c,api:r.setImageApi});case 7:if(!(data=o.sent)){o.next=14;break}return r.result=Object.assign({},data),r.result.product_collections=Object(n.a)(new Set(null===(m=r.result)||void 0===m||null===(m=m.product_collections)||void 0===m?void 0:m.map((function(e){return e.product_collection_id})))),r.result.product_categories=Object(n.a)(new Set(null===(v=r.result)||void 0===v||null===(v=v.product_categories)||void 0===v?void 0:v.map((function(e){return e.category_id.toString()})))),o.next=14,r.$router.push({path:"/".concat(r.routeName,"/").concat(r.result.id)});case 14:o.next=19;break;case 16:return o.prev=16,o.t0=o.catch(2),o.abrupt("return",r.$nuxt.error(o.t0));case 19:r.fileUploading=!1;case 20:case"end":return o.stop()}}),o,null,[[2,16]])})))()},editorDescriptionFile:function(e){var t=e.deleted,r=e.file,n=e.Editor,o=e.cursorLocation,l=e.resetUploader;this.editorFile({deleted:t,file:r,Editor:n,cursorLocation:o,resetUploader:l},this.wysiwygType.PRODUCT_DESCRIPTION)},editorOverviewFile:function(e){var t=e.deleted,r=e.file,n=e.Editor,o=e.cursorLocation,l=e.resetUploader;this.editorFile({deleted:t,file:r,Editor:n,cursorLocation:o,resetUploader:l},this.wysiwygType.PRODUCT_OVERVIEW)},editorFile:function(e,t){var r=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var o,l,c,d,m,v,data;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=e.deleted,l=e.file,c=e.Editor,d=e.cursorLocation,m=e.resetUploader,o){n.next=27;break}return r.loading=!0,n.prev=3,v=new FormData,r.result.id?(v.append("overview",r.result.overview),v.append("description",r.result.description),v.append("item_id",r.result.id)):v.append("product",JSON.stringify(r.result)),v.append("type",t),v.append("photo",l),n.next=10,r.setWysiwygImage(v);case 10:if(!(data=n.sent)){n.next=19;break}if(r.result.id){n.next=17;break}return n.next=15,r.$router.push({path:"/".concat(r.routeName,"/").concat(data.item_id)});case 15:n.next=19;break;case 17:c.insertEmbed(d,"image",data.url),m();case 19:n.next=24;break;case 21:return n.prev=21,n.t0=n.catch(3),n.abrupt("return",r.$nuxt.error(n.t0));case 24:r.loading=!1,n.next=37;break;case 27:return r.loading=!0,n.prev=28,n.next=31,r.deleteData({params:r.getImageName(l),api:"deleteWysiwygImage"});case 31:n.next=36;break;case 33:return n.prev=33,n.t1=n.catch(28),n.abrupt("return",r.$nuxt.error(n.t1));case 36:r.loading=!1;case 37:case"end":return n.stop()}}),n,null,[[3,21],[28,33]])})))()}},Object(c.b)("common",["getById","setById","setImageById","getDropdownList","setWysiwygImage","deleteData"])),mounted:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r,n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((r=window.location.hostname).includes("admin.ishop.cholobangla.com")||r.includes("localhost")||r.includes("127.0.0.1")?e.validLicence=!0:e.publicKey&&(e.licence=e.phpDecryption(e.publicKey),n=JSON.parse(e.licence),o=!(null!=n&&n.p)||(null==n?void 0:n.p)&&"ishop"===(null==n?void 0:n.p),e.licence.includes(r)&&o&&(e.validLicence=!0)),e.isAdding){t.next=5;break}return t.next=5,e.fetchingData();case 5:if(e.allCategories&&e.allTaxRules&&e.allAttributes&&e.allBrands&&e.allProductCollections&&e.allBundleDeals&&e.allShippingRules){t.next=16;break}return e.loading=!0,t.prev=7,t.next=10,e.getDropdownList();case 10:t.next=15;break;case 12:return t.prev=12,t.t0=t.catch(7),t.abrupt("return",e.$nuxt.error(t.t0));case 15:e.loading=!1;case 16:e.searchedCategories=e.allCategories;case 17:case"end":return t.stop()}}),t,null,[[7,12]])})))()}},E=P,R=r(15),component=Object(R.a)(E,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"product-form"},[e.loading?t("div",{staticClass:"spinner-wrapper"},[t("spinner",{staticClass:"mr-15",attrs:{radius:60,color:"primary"}})],1):e._e(),e._v(" "),t("div",{staticClass:"right-area"},[t("div",{staticClass:"sticky"},[t("div",{staticClass:"tab-sidebar mb-20 mb-lg mb-md-15"},[t("h4",{staticClass:"title"},[t("span",{staticClass:"mr-5"},[e._v(e._s(e.$t("prod.pVideo")))]),e._v(" "),t("span",{staticClass:"fw-400 f-8"},[e._v(e._s(e.$t("prod.maxVid")))])]),e._v(" "),e.$can("product","edit")||e.$can("product","create")?t("div",{staticClass:"form-wrapper"},[t("error-formatter",{attrs:{type:"video"}}),e._v(" "),e.mediaStorageData.URL===e.mediaStorage?t("video-input",{attrs:{saving:e.videoUploading,video:e.result.video,"video-thumb":e.result.video_thumb},on:{"image-change":function(t){return e.uploadVideo(null,t)}}}):t("video-upload",{staticClass:"upload-block",attrs:{video:e.result.video,type:"video","file-uploading":e.videoUploading},on:{"file-upload":e.uploadVideo}})],1):e.$can("product","view")?t("div",{staticClass:"ptb-15 plr-20"},[e.result.video?t("video",{attrs:{controls:"",autoplay:""}},[t("source",{attrs:{src:e.getVideoURL(e.result.video),type:"video/mp4"}})]):t("div",[e._v("\n            "+e._s(e.$t("prod.noVid"))+"\n          ")])]):e.result.video&&e.$can("product","view")?t("video",{attrs:{controls:"",autoplay:""}},[t("source",{attrs:{src:e.getVideoURL(e.result.video),type:"video/mp4"}})]):e._e()]),e._v(" "),t("div",{staticClass:"tab-sidebar mb-20 mlr-lg-15 mlr-md mb-md-15"},[t("h4",{staticClass:"title"},[t("span",{staticClass:"mr-5"},[e._v(e._s(e.$t("prod.pImg")))]),e._v(" "),t("span",{staticClass:"fw-400 f-8"},[e._v(e._s(e.$t("prod.suggImg")))])]),e._v(" "),e.loading?e._e():t("div",[e.$can("product","edit")||e.$can("product","create")?t("div",{staticClass:"form-wrapper upload-block"},[t("error-formatter",{attrs:{type:"image"}}),e._v(" "),e.mediaStorageData.URL===e.mediaStorage?t("image-input",{attrs:{saving:e.fileUploading,image:e.result.image},on:{"image-change":e.imageInputChanged}}):t("file-upload",{staticClass:"upload-block",attrs:{image:e.result.image,"file-uploading":e.fileUploading},on:{"file-upload":e.uploadFile}})],1):e.$can("product","view")?t("img",{staticClass:"mx-w-300x",attrs:{src:e.getImageURL(e.result.image)}}):e._e()])]),e._v(" "),e.isAdding?e._e():t("div",{staticClass:"tab-sidebar mb-md-15"},[t("h4",{staticClass:"title"},[t("span",{staticClass:"mr-5"},[e._v(e._s(e.$t("prod.pImgs")))]),e._v(" "),t("span",{staticClass:"fw-400 f-8"},[e._v(e._s(e.$t("prod.suggImg")))])]),e._v(" "),t("product-images",{attrs:{"product-images":e.result.product_images},on:{result:e.productImages}})],1)])]),e._v(" "),t("div",{ref:"productForm",staticClass:"left-area"},[t("div",{staticClass:"tab-sidebar"},[t("div",[t("div",{staticClass:"dply-felx gap-15 title ptb-5 b-0"},[t("h4",[e._v(e._s(e.$t("prod.pForm")))]),e._v(" "),t("button",{staticClass:"btn-clear dply-felx",on:{click:function(t){t.preventDefault(),e.productFormOpen=!e.productFormOpen}}},[t("i",{staticClass:"icon black ignore-click",class:"".concat(e.productFormOpen?"arrow-up":"arrow-down")})])]),e._v(" "),e.productFormOpen?t("form",{staticClass:"form-wrapper b-t",class:{"has-error":e.hasError},on:{submit:function(t){return t.preventDefault(),e.checkForm.apply(null,arguments)}}},[t("error-formatter"),e._v(" "),t("div",{staticClass:"input-wrapper"},[t("label",[e._v(e._s(e.$t("index.title")))]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.result.title,expression:"result.title"}],class:{invalid:!e.result.title&&e.hasError},attrs:{type:"text",placeholder:e.$t("index.title")},domProps:{value:e.result.title},on:{change:e.slugChange,input:function(t){t.target.composing||e.$set(e.result,"title",t.target.value)}}}),e._v(" "),!e.result.title&&e.hasError?t("span",{staticClass:"error"},[e._v("\n              "+e._s(e.$t("category.req",{type:e.$t("index.title")}))+"\n            ")]):e._e()]),e._v(" "),t("div",{staticClass:"input-wrapper"},[t("label",[e._v(e._s(e.$t("category.slug")))]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.result.slug,expression:"result.slug"}],ref:"slug",class:{invalid:!e.result.slug&&e.hasError},attrs:{type:"text",placeholder:e.$t("category.slug"),name:"slug"},domProps:{value:e.result.slug},on:{input:function(t){t.target.composing||e.$set(e.result,"slug",t.target.value)}}}),e._v(" "),!e.result.slug&&e.hasError?t("span",{staticClass:"error"},[e._v("\n              "+e._s(e.$t("category.req",{type:e.$t("category.slug")}))+"\n            ")]):e._e()]),e._v(" "),e._l(e.result.flash_sale_product,(function(r,n){return t("div",{key:n,staticClass:"info-msg mb-20 mb-sm-15"},[t("p",[e._v("\n              "+e._s(e.$t("prod.flash"))+"\n              ("),t("nuxt-link",{staticClass:"link",attrs:{to:"/flash-sales/".concat(r.flash_sale.id)}},[e._v("\n              "+e._s(r.flash_sale.title)+"\n            ")]),e._v(")\n            ")],1),e._v(" "),t("p",[e._v(e._s(e.$t("prod.flashPrice"))+": "),t("b",[e._v(e._s(e.priceFormatting(r.price)))])])])})),e._v(" "),t("div",{staticClass:"dply-felx mlr--7-5 inputs"},[t("div",{staticClass:"input-wrapper mlr-7-5"},[t("label",[e._v(e._s(e.$t("prod.purchased"))+"("+e._s(e.currencyIcon)+")")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.result.purchased,expression:"result.purchased"}],class:{invalid:(e.result.purchased<1||!e.result.purchased)&&e.hasError},attrs:{type:"number",step:"any",placeholder:e.$t("prod.purchased")},domProps:{value:e.result.purchased},on:{input:function(t){t.target.composing||e.$set(e.result,"purchased",t.target.value)}}}),e._v(" "),(e.result.purchased<1||!e.result.purchased)&&e.hasError?t("span",{staticClass:"error"},[e._v("\n              "+e._s(e.$t("category.req",{type:e.$t("brand.price")}))+"\n            ")]):e._e()]),e._v(" "),t("div",{staticClass:"input-wrapper mlr-7-5"},[t("label",[e._v(e._s(e.$t("prod.selling"))+"("+e._s(e.currencyIcon)+")")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.result.selling,expression:"result.selling"}],class:{invalid:(e.result.selling<1||!e.result.selling)&&e.hasError},attrs:{type:"number",step:"any",placeholder:e.$t("prod.selling")},domProps:{value:e.result.selling},on:{input:function(t){t.target.composing||e.$set(e.result,"selling",t.target.value)}}}),e._v(" "),(e.result.selling<1||!e.result.selling)&&e.hasError?t("span",{staticClass:"error"},[e._v("\n              "+e._s(e.$t("category.req",{type:e.$t("brand.price")}))+"\n            ")]):e._e()]),e._v(" "),t("div",{staticClass:"input-wrapper mlr-7-5"},[t("label",[e._v(e._s(e.$t("prod.offered"))+"("+e._s(e.currencyIcon)+")")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.result.offered,expression:"result.offered"}],attrs:{type:"number",step:"any",placeholder:e.$t("prod.offered")},domProps:{value:e.result.offered},on:{input:function(t){t.target.composing||e.$set(e.result,"offered",t.target.value)}}})])]),e._v(" "),t("div",{staticClass:"dply-felx inputs pos-rel w-100"},[t("div",{staticClass:"input-wrapper"},[t("label",{staticClass:"block"},[e._v(e._s(e.$t("error.cat")))]),e._v(" "),t("div",{staticClass:"custom-dropdown cp",attrs:{"data-ignore":"multiple-category"},on:{click:function(t){t.preventDefault(),e.showCategories=!e.showCategories}}},[t("span",{staticClass:"ignore-click"},[e._v(e._s(e.$t("title.choose"))+" ("+e._s(e.result.product_categories.length)+")\n                  "),t("i",{staticClass:"icon black ignore-click",class:[{"arrow-up":e.showCategories},{"arrow-down":!e.showCategories}]})])]),e._v(" "),e.showCategories?t("ul",{directives:[{name:"outside-click",rawName:"v-outside-click",value:e.closeDrop,expression:"closeDrop"}],staticClass:"multiple-wrap",attrs:{id:"multiple-category"}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.categorySearch,expression:"categorySearch"}],staticClass:"mb-10",attrs:{type:"text",placeholder:e.$t("list.sh")},domProps:{value:e.categorySearch},on:{input:[function(t){t.target.composing||(e.categorySearch=t.target.value)},e.doCategorySearch]}}),e._v(" "),e._l(e.searchedCategories,(function(r,n){return t("label",{key:n,attrs:{"label-for":"all-cat-".concat(n)}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.result.product_categories,expression:"result.product_categories"}],attrs:{id:"all-cat-".concat(n),type:"checkbox"},domProps:{value:n,checked:Array.isArray(e.result.product_categories)?e._i(e.result.product_categories,n)>-1:e.result.product_categories},on:{change:function(t){var r=e.result.product_categories,o=t.target,l=!!o.checked;if(Array.isArray(r)){var c=n,d=e._i(r,c);o.checked?d<0&&e.$set(e.result,"product_categories",r.concat([c])):d>-1&&e.$set(e.result,"product_categories",r.slice(0,d).concat(r.slice(d+1)))}else e.$set(e.result,"product_categories",l)}}}),e._v("\n                  "+e._s(r.title)+"\n                ")])}))],2):e._e()]),e._v(" "),e.selectedCategories?t("div",{staticClass:"input-wrapper mlr-7-5"},[t("label",{staticClass:"block"},[e._v(e._s(e.$t("title.prim")))]),e._v(" "),t("dropdown",{staticClass:"left-dd",attrs:{selectedKey:e.result.primary_category_id,options:e.selectedCategories},on:{clicked:e.primaryCategorySelected}})],1):e._e()]),e._v(" "),t("div",{staticClass:"dply-felx inputs mlr--7-5"},[t("div",{staticClass:"input-wrapper mlr-7-5"},[t("label",[e._v(e._s(e.$t("prod.unit")))]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.result.unit,expression:"result.unit"}],class:{invalid:!e.result.unit&&e.hasError},attrs:{type:"text",placeholder:e.$t("prod.unit")},domProps:{value:e.result.unit},on:{input:function(t){t.target.composing||e.$set(e.result,"unit",t.target.value)}}}),e._v(" "),!e.result.unit&&e.hasError?t("span",{staticClass:"error"},[e._v("\n              "+e._s(e.$t("category.req",{type:e.$t("prod.unit")}))+"\n            ")]):e._e()]),e._v(" "),t("div",{staticClass:"input-wrapper mlr-7-5"},[t("label",[e._v(e._s(e.$t("prod.badge")))]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.result.badge,expression:"result.badge"}],attrs:{type:"text",placeholder:e.$t("prod.badge")},domProps:{value:e.result.badge},on:{input:function(t){t.target.composing||e.$set(e.result,"badge",t.target.value)}}})])]),e._v(" "),t("div",{staticClass:"input-wrapper",class:{"whysigwyg-error":!e.result.overview&&e.hasError}},[t("WYSIWYGEditor",{attrs:{title:e.$t("prod.overview"),description:e.result.overview},on:{change:function(t){e.result.overview=t},file:e.editorOverviewFile}}),e._v(" "),!e.result.overview&&e.hasError?t("span",{staticClass:"error"},[e._v("\n            "+e._s(e.$t("category.req",{type:e.$t("prod.overview")}))+"\n          ")]):e._e()],1),e._v(" "),t("div",{staticClass:"input-wrapper",class:{"whysigwyg-error":!e.result.description&&e.hasError}},[t("WYSIWYGEditor",{attrs:{description:e.result.description},on:{change:function(t){e.result.description=t},file:e.editorDescriptionFile}}),e._v(" "),!e.result.description&&e.hasError?t("span",{staticClass:"error"},[e._v("\n            "+e._s(e.$t("category.req",{type:e.$t("prod.desc")}))+"\n          ")]):e._e()],1),e._v(" "),t("div",{staticClass:"dply-felx inputs mlr--7-5"},[t("div",{staticClass:"input-wrapper mlr-7-5"},[t("label",{staticClass:"block"},[e._v(e._s(e.$t("category.status")))]),e._v(" "),t("dropdown",{attrs:{selectedKey:"".concat(e.result.status),options:e.statusObj},on:{clicked:e.dropdownSelected}})],1),e._v(" "),t("div",{staticClass:"input-wrapper mlr-7-5"},[t("label",{staticClass:"block"},[e._v(e._s(e.$t("prod.brand")))]),e._v(" "),e.allBrands?t("dropdown",{attrs:{"default-null":!0,selectedKey:e.result.brand_id,options:e.allBrands},on:{clicked:e.brandSelected}}):e._e()],1)]),e._v(" "),t("div",{staticClass:"input-wrapper"},[t("label",[e._v(e._s(e.$t("prod.tags")))]),e._v(" "),t("tag-search",{attrs:{tags:e.result.tags},on:{add:e.addTag,delete:e.deleteTag}})],1),e._v(" "),t("div",{staticClass:"f-wrap dply-felx inputs mlr--7-5"},[t("div",{staticClass:"input-wrapper mlr-7-5"},[t("label",{staticClass:"block"},[e._v(e._s(e.$t("prod.tRule")))]),e._v(" "),e.allTaxRules?t("dropdown",{attrs:{selectedKey:e.result.tax_rule_id,options:e.allTaxRules},on:{clicked:e.taxRuleSelected}}):e._e(),e._v(" "),!e.result.tax_rule_id&&e.hasError?t("span",{staticClass:"error"},[e._v("\n              "+e._s(e.$t("category.req",{type:e.$t("brand.tRule")}))+"\n            ")]):e._e()],1),e._v(" "),t("div",{staticClass:"input-wrapper mlr-7-5"},[t("label",{staticClass:"block"},[e._v(e._s(e.$t("dataPage.shipRule")))]),e._v(" "),e.allShippingRules?t("dropdown",{attrs:{selectedKey:e.result.shipping_rule_id,options:e.allShippingRules},on:{clicked:e.shippingRuleSelected}}):e._e(),e._v(" "),!e.result.shipping_rule_id&&e.hasError?t("span",{staticClass:"error"},[e._v("\n              "+e._s(e.$t("category.req",{type:e.$t("brand.shipRule")}))+"\n            ")]):e._e()],1),e._v(" "),t("div",{staticClass:"input-wrapper mlr-7-5"},[t("label",{staticClass:"block"},[e._v(e._s(e.$t("profile.dleDeal")))]),e._v(" "),e.allBundleDeals?t("dropdown",{attrs:{"default-null":!0,selectedKey:e.result.bundle_deal_id,options:e.allBundleDeals},on:{clicked:e.bundleDealSelected}}):e._e()],1)]),e._v(" "),t("div",{staticClass:"mb-10 mb-sm-5 cb-wrapper"},[t("span",{staticClass:"block mb-10"},[e._v(e._s(e.$t("dataPage.prodCol")))]),e._v(" "),e._l(e.allProductCollections,(function(r,n){return t("label",{key:n,staticClass:"mr-15 mb-10"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.result.product_collections,expression:"result.product_collections"}],attrs:{type:"checkbox"},domProps:{value:r.id,checked:Array.isArray(e.result.product_collections)?e._i(e.result.product_collections,r.id)>-1:e.result.product_collections},on:{change:function(t){var n=e.result.product_collections,o=t.target,l=!!o.checked;if(Array.isArray(n)){var c=r.id,d=e._i(n,c);o.checked?d<0&&e.$set(e.result,"product_collections",n.concat([c])):d>-1&&e.$set(e.result,"product_collections",n.slice(0,d).concat(n.slice(d+1)))}else e.$set(e.result,"product_collections",l)}}}),e._v("\n              "+e._s(r.title)+"\n            ")])}))],2),e._v(" "),t("div",{staticClass:"mb-20 mb-sm-15 cb-wrapper"},[t("span",{staticClass:"block mb-10"},[e._v("\n            "+e._s(e.$t("prod.pInfo"))+"\n          ")]),e._v(" "),t("p",[t("label",{staticClass:"mr-15"},[e._v("\n                "+e._s(e.$t("prod.refund"))+"\n              ")]),e._v(" "),t("label",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.result.refundable,expression:"result.refundable"}],attrs:{type:"radio",name:"refundable",value:"1"},domProps:{checked:e._q(e.result.refundable,"1")},on:{change:function(t){return e.$set(e.result,"refundable","1")}}}),e._v("\n                "+e._s(e.$t("prod.yes"))+"\n              ")]),e._v(" "),t("label",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.result.refundable,expression:"result.refundable"}],attrs:{type:"radio",name:"refundable",value:"2"},domProps:{checked:e._q(e.result.refundable,"2")},on:{change:function(t){return e.$set(e.result,"refundable","2")}}}),e._v("\n                "+e._s(e.$t("prod.no"))+"\n              ")])]),e._v(" "),t("p",[t("label",{staticClass:"mr-15"},[e._v("\n                "+e._s(e.$t("prod.warranty"))+"\n              ")]),e._v(" "),t("label",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.result.warranty,expression:"result.warranty"}],attrs:{type:"radio",name:"warranty",value:"1"},domProps:{checked:e._q(e.result.warranty,"1")},on:{change:function(t){return e.$set(e.result,"warranty","1")}}}),e._v("\n                "+e._s(e.$t("prod.yes"))+"\n              ")]),e._v(" "),t("label",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.result.warranty,expression:"result.warranty"}],attrs:{type:"radio",name:"warranty",value:"2"},domProps:{checked:e._q(e.result.warranty,"2")},on:{change:function(t){return e.$set(e.result,"warranty","2")}}}),e._v("\n                "+e._s(e.$t("prod.no"))+"\n              ")])])]),e._v(" "),t("div",{staticClass:"input-wrapper"},[t("label",[e._v(e._s(e.$t("category.mTitle")))]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.result.meta_title,expression:"result.meta_title"}],class:{invalid:!e.result.meta_title&&e.hasError},attrs:{type:"text",placeholder:e.$t("category.mTitle")},domProps:{value:e.result.meta_title},on:{input:function(t){t.target.composing||e.$set(e.result,"meta_title",t.target.value)}}}),e._v(" "),!e.result.meta_title&&e.hasError?t("span",{staticClass:"error"},[e._v("\n            "+e._s(e.$t("category.req",{type:e.$t("category.mTitle")}))+"\n          ")]):e._e()]),e._v(" "),t("div",{staticClass:"input-wrapper"},[t("label",[e._v(e._s(e.$t("ship.mk"))+" ("+e._s(e.$t("ship.csk"))+")")]),e._v(" "),t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.result.meta_keywords,expression:"result.meta_keywords"}],class:{invalid:!e.result.meta_keywords&&e.hasError},attrs:{placeholder:e.$t("ship.mk")},domProps:{value:e.result.meta_keywords},on:{input:function(t){t.target.composing||e.$set(e.result,"meta_keywords",t.target.value)}}}),e._v(" "),!e.result.meta_keywords&&e.hasError?t("span",{staticClass:"error"},[e._v("\n              "+e._s(e.$t("category.req",{type:e.$t("ship.mk")}))+"\n            ")]):e._e()]),e._v(" "),t("div",{staticClass:"input-wrapper"},[t("label",[e._v(e._s(e.$t("category.mDesc")))]),e._v(" "),t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.result.meta_description,expression:"result.meta_description"}],class:{invalid:!e.result.meta_description&&e.hasError},attrs:{placeholder:e.$t("category.mDesc")},domProps:{value:e.result.meta_description},on:{input:function(t){t.target.composing||e.$set(e.result,"meta_description",t.target.value)}}}),e._v(" "),!e.result.meta_description&&e.hasError?t("span",{staticClass:"error"},[e._v("\n              "+e._s(e.$t("category.req",{type:e.$t("category.mDesc")}))+"\n            ")]):e._e()]),e._v(" "),e.validLicence&&(e.$can("product","edit")||e.$can("product","create"))?t("div",{staticClass:"dply-felx j-right gap-15"},[t("ajax-button",{staticClass:"primary-btn",attrs:{name:"save-edit",text:e.$t("list.svn"),"fetching-data":e.formSubmitting&&!e.redirect}}),e._v(" "),t("ajax-button",{staticClass:"primary-btn",attrs:{name:"save",text:e.$t("setting.sv"),"fetching-data":e.formSubmitting&&e.redirect}})],1):e._e()],2):e._e()])]),e._v(" "),e.isAdding?e._e():t("div",{ref:"productInventory",staticClass:"tab-sidebar mt-15"},[e.currentPrice?t("product-inventory",{attrs:{attributes:e.allAttributes,"product-price":parseFloat(e.currentPrice)},on:{"has-error":function(t){return e.scrollToTop("productInventory")}}}):e._e()],1)])])}),[],!1,null,"6c9b64a3",null);t.default=component.exports;installComponents(component,{Spinner:r(49).default,ErrorFormatter:r(468).default,VideoInput:r(727).default,VideoUpload:r(726).default,ImageInput:r(491).default,FileUpload:r(477).default,Dropdown:r(159).default,WYSIWYGEditor:r(644).default,TagSearch:r(500).default,AjaxButton:r(158).default})}}]);